<h2>Edit Product</h2>
<form method="POST" action="/user/edit-product/{{product.slug}}" enctype="multipart/form-data" class="ui form">
    <div class="field">
        <label for="name">Product Name:</label>
        <input type="text" id="name" name="name" required value="{{product.name}}">
    </div>
    <div class="field">
        <label for="description">Description:</label>
        <textarea id="description" name="description" required>{{product.description}}</textarea>
    </div>
    <div class="field">
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" required min="0" step="0.01" value="{{product.price}}">
    </div>
    <div class="field">
        <label for="category">Category:</label>
        <select id="category" name="category" required class="ui fluid dropdown">
            <!-- Loop through the categories, each with a name and possibly a selected property -->
            {{#each categories}}
            <option value="{{name}}" {{#if selected}}selected{{/if}}>{{name}}</option>
            {{/each}}
        </select>
    </div>
    <div class="field">
        <label for="ingredients">Ingredients:</label>
        <input type="text" id="ingredients" name="ingredients" placeholder="Separate ingredients with commas"
            value="{{product.ingredients.join ', '}}">
    </div>
    <div class="field">
        <label for="inStock">In Stock:</label>
        <input type="checkbox" id="inStock" name="inStock" {{#if product.inStock}}checked{{/if}} tabindex="0"
            class="hidden">
    </div>
    <div class="field">
        <label for="images">Product Images:</label>
        <input type="file" id="images" name="images" accept="image/*" multiple>
        <!-- Optionally display existing images -->
        <div>
            {{#each product.images}}
            <img src="{{this}}" alt="Current Image" style="height: 100px;">
            {{/each}}
        </div>
    </div>
    <button class="ui button" type="submit">Update Product</button>
</form>